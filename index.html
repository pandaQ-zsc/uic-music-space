<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <title>UIC-MIS-7450</title>
    <meta name="description" content="" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <link rel="icon" href="assets/favicon.ico" />
    <link rel="stylesheet" href="css/styles.css" />
  </head>
  <body>
    <header>
      <nav class="apple-navbar">
        <div class="nav-content">
        </div>
      </nav>
      <nav class="airpods-navbar">
        <div class="nav-content">
          <div class="nav-logo"><a href="#">Personalized Music </a></div>
          <ul class="nav-items">
            <li><button class="buy-btn">【7450小组1】</button></li>
            <li><button >熊强</button></li>
            <li><button>孙多良</button></li>
            <li><button>高瑜</button></li>
            <li><button>殷湘程</button></li>
          </ul>
        </div>
      </nav>
    </header>

    <main>
      <section class="section-01 scroll-section hero-lightpass">
        <div class="main-elem">
          <h1>互动媒体工作坊</h1>
          <a href=""
            >Watch <span>Jump</span>
            <ion-icon name="play-circle-outline"></ion-icon>
          </a>
        </div>
        <div class="canvas-elem">
          <canvas id="hero-lightpass"></canvas>
        </div>
        <div class="msg-elem msg-elem-01">
          <p>IMS小组，即将开始</p>
        </div>
        <div class="msg-elem msg-elem-02">
          <p>动态手机编程</p>
        </div>
        <div class="msg-elem msg-elem-03">
          <p>指导老师：付堃</p>
        </div>
        <div class="msg-elem msg-elem-04">
          <p>期待再次相见
          </p>
        </div>
      </section>

      <section class="section-02 scroll-section head-bob-turn">
        <div class="msg-elem">
          <small>好戏</small>
          <h2>即将开幕</h2>
        </div>
        <div class="canvas-elem">
          <canvas id="head-bob-turn"></canvas>
        </div>
      </section>

    </main>

    <footer>
      <div class="content">
        <small>Copyright © 2024 UIC IMS -> </small>
        <small>CHINA.</small>
      </div>
    </footer>
  </body>

  <!-- Ionicons Usage -->
  <script src="https://unpkg.com/ionicons@5.5.2/dist/ionicons/ionicons.esm.js"></script>
  <script src="https://unpkg.com/ionicons@5.5.2/dist/ionicons/ionicons.js"></script>
  <!-- GSAP CDN -->
  <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.10.4/gsap.min.js"></script>
  <!-- ScrollMagic CDN -->
  <script src="https://cdnjs.cloudflare.com/ajax/libs/ScrollMagic/2.0.7/ScrollMagic.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/ScrollMagic/2.0.7/plugins/debug.addIndicators.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/ScrollMagic/2.0.7/plugins/animation.gsap.min.js"></script>
  <!-- JS Files -->
  <script src="js/script.js"></script>
  <script src="js/script1.js"></script>
  <script src="js/script2.js"></script>
  <script >

  document.addEventListener('DOMContentLoaded', function() {
    let hasTriggered = false; // 标志位，用于判断是否已经跳转

    window.addEventListener('scroll', function() {
      // 获取窗口的滚动位置
      var scrollTop = (document.documentElement.scrollTop || document.body.scrollTop) + window.innerHeight;
      // 获取文档的高度
      var docHeight = document.documentElement.scrollHeight;

      // 判断是否滚动到了页面底部，并且还没有触发过跳转
      if (scrollTop >= docHeight && !hasTriggered) {
        hasTriggered = true; // 设置标志位为已跳转

        // 当滚动到底部时，延迟执行页面跳转
        setTimeout(function() {
          // window.location.href = 'one-music-gh-pages/index1.html';
          window.location.href = 'one-music-gh-pages/login.html';
        }, 1000);
      }
    });
  });

  // 监听 popstate 事件，以便处理后退按钮
window.addEventListener('popstate', function(event) {
  // window.scrollTo(0, 0);
  // 获取滚动位置信息
  const scrollPos = localStorage.getItem('scrollPos');

  if (scrollPos) {
    try {
      // 解析存储的滚动位置信息
      const pos = JSON.parse(scrollPos);

      // 滚动到指定位置
      window.scrollTo(0, 0); // 修正参数顺序

      localStorage.removeItem('scrollPos');
      // 移除存储的信息
    } catch (error) {
      console.error('解析滚动位置信息失败:', error);
      // 处理解析失败的情况，例如记录错误日志或重置状态
    }
  }
});



  </script>
</html>
